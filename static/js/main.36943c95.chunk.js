(this["webpackJsonpto-do"]=this["webpackJsonpto-do"]||[]).push([[0],[,,,,,,,,function(t,e,n){t.exports=n(19)},,,,,function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){"use strict";n.r(e);var a=n(0),o=n.n(a),r=n(7),i=n.n(r),c=n(1),s=n(2),l=n(3),u=n(5),d=n(4);n(13);var m=function(t){var e=t.isDone,n=t.isImportant,a=t.text,r=t.onItemClick,i=t.onImportantClick,c=t.onDeleteItemClick,s=t.id,l="list-group-item";return l+=e?" done":"",l+=n?" important":"",o.a.createElement("li",{className:l},o.a.createElement("button",{type:"button",className:"float-right btn btn-danger btn-sm",onClick:function(){return c(s)}},o.a.createElement("i",{className:"fas fa-trash-alt"})),o.a.createElement("button",{type:"button",className:"float-right btn btn-primary btn-sm mr-1",onClick:function(){return i(s)}},o.a.createElement("i",{className:"fas fa-exclamation"})),o.a.createElement("span",{onClick:function(){return r(s)},className:"d-block"},a))};n(14);var f=function(t){var e=t.data,n=t.onItemClick,a=t.onImportantClick,r=t.onDeleteItemClick;return o.a.createElement("ul",{className:"toDoList list-group"},e.map((function(t){return o.a.createElement(m,Object.assign({key:t.id,onItemClick:n,onImportantClick:a,onDeleteItemClick:r},t))})))};n(15);var p=function(t){var e=t.all,n=t.done,a=t.mark,r=t.onStatClick,i=t.filter,c="badge m-1 p-2 c-pointer",s="".concat(c," badge-dark").concat("done"===i?" badge-pill":""),l="".concat(c," badge-info").concat("mark"===i?" badge-pill":""),u="".concat(c," badge-success").concat("all"===i?" badge-pill":"");return o.a.createElement("div",{className:"statistic float-right"},o.a.createElement("span",{className:s,role:"button",onClick:function(){return r("done")}},"DONE: ",n),o.a.createElement("span",{className:l,role:"button",onClick:function(){return r("mark")}},"MARK: ",a),o.a.createElement("span",{className:u,role:"button",onClick:function(){return r("all")}},"ALL: ",e))},k=(n(16),function(t){Object(u.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(s.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))).state={input:""},t.onAddTask=function(){t.props.onAddItem(t.state.input),t.setState({input:""})},t.onInputChange=function(e){t.setState({input:e.target.value})},t}return Object(l.a)(n,[{key:"render",value:function(){return o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement("input",{type:"text",className:"form-control",placeholder:"Add todo task","aria-label":"Add todo task",onChange:this.onInputChange,value:this.state.input}),o.a.createElement("div",{className:"input-group-append"},o.a.createElement("button",{className:"btn btn-outline-secondary",type:"button",onClick:this.onAddTask},"Add")))}}]),n}(a.Component));n(17);var b=function(t){return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("span",{className:"input-group-text"},o.a.createElement("i",{className:"fas fa-search"}))),o.a.createElement("input",{type:"text",className:"form-control",placeholder:"type here","aria-label":"Username",onChange:t.onSearchInput}))};var h=function(t){return o.a.createElement("div",{className:"d-flex justify-content-center w-100"},o.a.createElement("button",{type:"button",className:"btn btn-danger w-100 m-3",onClick:t.onDeleteClick},"Delete All"))},v=(n(18),function(t){Object(u.a)(n,t);var e=Object(d.a)(n);function n(t){var a;return Object(s.a)(this,n),(a=e.call(this,t)).state={maxId:1,todos:[],filter:"all",search:""},a.db=null,a.onItemClick=function(t){var e=Object(c.a)(a.state.todos);e.forEach((function(e){e.id===t&&(e.isDone=!e.isDone,a.dbUpdate(e))})),a.setState({todos:e})},a.onImportantClick=function(t){var e=Object(c.a)(a.state.todos);e.forEach((function(e){e.id===t&&(e.isImportant=!e.isImportant,a.dbUpdate(e))})),a.setState({todos:e})},a.onAddItem=function(t){var e=Object(c.a)(a.state.todos),n=a.generateItem(t);e.unshift(n),a.dbAdd(n),a.setState({todos:e})},a.onDeleteItemClick=function(t){var e=a.state.todos.filter((function(e){return e.id!==t}));a.setState({todos:e}),a.dbDelete(t)},a.onStatClick=function(t){a.setState({filter:t})},a.onSearchInput=function(t){a.setState({search:t.target.value})},a.onDeleteClick=function(){a.setState({maxId:1,todos:[],filter:"all",search:""}),a.dbDeleteAll()},a.dbInit(),a.dbRead(),a}return Object(l.a)(n,[{key:"stateInit",value:function(t){var e=this;t.onsuccess=function(t){var n=t.target.result,a=n.reduce((function(t,e){var n=e.id;return t>n?t:n}),1);e.setState({todos:n,visible:n,maxId:a})}}},{key:"dbRead",value:function(){this.dbOperation("read")}},{key:"dbInit",value:function(){window.indexedDB.open("tasksBank",1).onupgradeneeded=function(t){t.target.result.createObjectStore("tasks",{keyPath:"id"})}}},{key:"dbAdd",value:function(t){this.dbOperation("create",t)}},{key:"dbUpdate",value:function(t){this.dbOperation("update",t)}},{key:"dbDelete",value:function(t){this.dbOperation("delete",t)}},{key:"dbDeleteAll",value:function(){this.dbOperation("delete-all")}},{key:"dbOperation",value:function(t,e){var n=this,a=window.indexedDB.open("tasksBank",1),o="read"===t?"readonly":"readwrite";a.onsuccess=function(){var r=a.result.transaction("tasks",o);r.onerror=function(){console.error("error in looking for task object store")};var i=r.objectStore("tasks");switch(t){case"create":i.add(e);break;case"update":i.put(e);break;case"delete":i.delete(e);break;case"read":var c=i.getAll();n.stateInit(c);break;case"delete-all":i.clear();break;default:console.log("Have no ide what I must to do with this ".concat(t))}}}},{key:"generateItem",value:function(t){0===t.length&&(t="empty task");var e=this.state.maxId+1;return this.setState({maxId:e}),{id:e,text:t,isDone:!1,isImportant:!1}}},{key:"filter",value:function(){var t=Object(c.a)(this.state.todos);return"all"===this.state.filter?t:"done"===this.state.filter?t.filter((function(t){return t.isDone})):"mark"===this.state.filter?t.filter((function(t){return t.isImportant})):void 0}},{key:"generateStatistic",value:function(){return{all:this.state.todos.length,done:this.state.todos.reduce((function(t,e){return t+(e.isDone?1:0)}),0),mark:this.state.todos.reduce((function(t,e){return t+(e.isImportant?1:0)}),0),filter:this.state.filter,onStatClick:this.onStatClick}}},{key:"search",value:function(t){if(""===this.state.search)return t;var e=new RegExp(this.state.search,"i");return t.filter((function(t){var n=t.text;return e.test(n)}))}},{key:"render",value:function(){var t=this.generateStatistic(),e=this.filter(),n=this.search(e);return o.a.createElement("div",{className:"app"},o.a.createElement("div",{className:"input-group mb-3"},o.a.createElement(p,t),o.a.createElement(b,{onSearchInput:this.onSearchInput})),o.a.createElement(k,{onAddItem:this.onAddItem}),o.a.createElement(f,{data:n,onItemClick:this.onItemClick,onImportantClick:this.onImportantClick,onDeleteItemClick:this.onDeleteItemClick}),o.a.createElement(h,{onDeleteClick:this.onDeleteClick}))}}]),n}(a.Component));i.a.render(o.a.createElement(v,null),document.querySelector("#root"))}],[[8,1,2]]]);
//# sourceMappingURL=main.36943c95.chunk.js.map